<script src="/socket.io/socket.io.js"></script>
<script>
  var socket = io();
  let timeLeft = 30;
  let gameStart = false;

  // Test function for startWaitingRoomTimer
  socket.on("startWaitingRoomTimer", function (isGameStart) {
    const timer = setInterval(() => {
      document.getElementById("gameStart").innerHTML =
        "gameStart: " + gameStart;
      timeLeft--;
      document.getElementById("timer").innerHTML = timeLeft;

      if (timeLeft <= 0) {
        gameStart = true;
        socket.emit("gameStart", gameStart);
        document.getElementById("gameStart").innerHTML =
          "gameStart: " + gameStart;
        clearInterval(timer);
      }
    }, 1000);

    timeLeft = 30;
  });

  socket.on("round", function (round) {
    document.getElementById("round").innerHTML = `Round ${round}`;
  });

  socket.on("wordsFirstRound", function (words) {
    document.getElementById("1stRoundWord").innerHTML = words;
  });

  socket.on("wordsSecondRound", function (words) {
    document.getElementById("2ndRoundWord").innerHTML = words;
  });

  socket.on("updatePlayerList", function (players) {
    document.getElementById("players").innerHTML = JSON.stringify(players);
  });

  function onAddPlayer() {
    const name = document.getElementById("onAddPlayer").value;
    socket.emit("onAddPlayer", name);
  }

  function onRemovePLayer() {
    const id = document.getElementById("onRemovePlayer").value;
    socket.emit("onRemovePlayer", id);
  }

  // function updateScoreById() {
  //   const id = document.getElementById("updateScoreTarget").value;
  //   const score = document.getElementById("scoreAmount").value;
  //   socket.emit("updateLeaderboard", {id: id, score: score})
  // }
</script>

<h1 id="timer">Timer</h1>
<h1 id="gameStart"></h1>

<h1 id="round">Round 0</h1>
<p id="players">Players</p>
<p id="1stRoundWord"></p>
<p id="2ndRoundWord"></p>
<input id="onAddPlayer" placeholder="Add new Player" />
<button onclick="onAddPlayer()">Add player</button>
<input id="onRemovePlayer" placeholder="Remove Player with id" />
<button onclick="onRemovePLayer()">Remove player by id</button>

<h1>Leader Board</h1>
<p id="players">Players</p>
<input id="updateScoreTarget" placeholder="Target ID" />
<input id="scoreAmount" placeholder="Score" />
<button onclick="updateScoreById()">Update player's score by ID</button>
